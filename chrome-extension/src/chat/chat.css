* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 14px;
  line-height: 1.4;
  color: #333;
  background: #f8f9fa;
  height: 100vh;
  overflow: hidden;
}

.chat-container { display: flex; height: 100vh; }

.sidebar {
  width: 280px;
  background: #fff;
  border-right: 1px solid #e1e5e9;
  display: flex;
  flex-direction: column;
  transition: all 0.3s ease;
}
.sidebar.collapsed { width: 0; overflow: hidden; }

.sidebar-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  min-height: 52px;
  padding: 10px 16px;
  border-bottom: 1px solid #e1e5e9;
}
.sidebar-header h2 { font-size: 18px; font-weight: 600; color: #2c3e50; }

.agents-list { flex: 1; overflow-y: auto; padding: 8px; }

.agent-list-item {
  display: flex;
  align-items: center;
  padding: 12px 16px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-bottom: 4px;
}
.agent-list-item:hover { background: #f8f9fa; }
.agent-list-item.active { background: #e3f2fd; border: 1px solid #007bff; }

.agent-list-item .agent-avatar,
.chat-header .agent-avatar {
  position: relative;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  margin-right: 12px;
  flex-shrink: 0;
}
.agent-list-item .agent-avatar::before,
.chat-header .agent-avatar::before { content: 'ü§ñ'; }

.agent-list-item .agent-status,
.chat-header .agent-status {
  position: absolute;
  bottom: -2px;
  right: -2px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 2px solid white;
  background: #dc3545;
}
.agent-list-item .agent-status.online,
.chat-header .agent-status.online { background: #28a745; }

.agent-list-item .agent-info { flex: 1; min-width: 0; }
.agent-list-item .agent-name { font-size: 14px; font-weight: 600; color: #2c3e50; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.agent-list-item .agent-last-message { font-size: 12px; color: #6c757d; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.agent-list-item .agent-actions { opacity: 0; transition: opacity 0.2s ease; }
.agent-list-item:hover .agent-actions { opacity: 1; }
.remove-agent:hover { color: #dc3545; background: #f8d7da; }

.sidebar-footer { padding: 16px 20px; border-top: 1px solid #e1e5e9; }
.btn-full { width: 100%; }

.chat-main { flex: 1; display: flex; flex-direction: column; background: #fff; }

.workspace-header {
  display: flex;
  align-items: center;
  gap: 12px;
  min-height: 57px;
  padding: 10px 16px;
  border-bottom: 1px solid #e1e5e9;
  background: #fff;
}

.view-tabs { display: flex; gap: 8px; flex-wrap: wrap; }
.view-tab {
  border: 1px solid #d0d7de;
  background: #fff;
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 12px;
  cursor: pointer;
}
.view-tab.active { background: #007bff; color: #fff; border-color: #007bff; }

.view-panel { display: none; flex: 1; min-height: 0; }
.view-panel.active { display: flex; }

.empty-state { flex: 1; display: flex; align-items: center; justify-content: center; padding: 40px; }
.empty-content { text-align: center; max-width: 400px; }
.empty-icon { font-size: 64px; margin-bottom: 24px; }
.empty-content h3 { font-size: 24px; color: #2c3e50; margin-bottom: 12px; }
.empty-content p { color: #6c757d; margin-bottom: 32px; line-height: 1.6; }

.chat-interface { flex: 1; display: flex; flex-direction: column; }
.chat-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid #e1e5e9;
  background: #fff;
}
.chat-header .agent-info { display: flex; align-items: center; flex: 1; }
.chat-header .agent-details h3 { font-size: 16px; font-weight: 600; color: #2c3e50; }
.chat-header .agent-details p { font-size: 12px; color: #6c757d; }
.chat-header .agent-details p.online { color: #28a745; }
.chat-actions { display: flex; gap: 8px; }

.messages-container { flex: 1; overflow-y: auto; padding: 20px; background: #f8f9fa; }
.messages-list { display: flex; flex-direction: column; gap: 12px; }
.message { display: flex; max-width: 74%; }
.message.user-message { align-self: flex-end; margin-left: auto; }
.message.agent-message { align-self: flex-start; margin-right: auto; }
.message-content { background: #fff; border-radius: 16px; padding: 12px 16px; box-shadow: 0 1px 2px rgba(0,0,0,.1); }
.user-message .message-content { background: #007bff; color: white; }
.message-text { white-space: pre-wrap; word-wrap: break-word; }
.message-meta { display: flex; align-items: center; gap: 8px; margin-top: 6px; font-size: 11px; opacity: 0.7; }
.user-message .message-meta { color: rgba(255,255,255,.8); justify-content: flex-end; }
.agent-message .message-meta { color: #6c757d; }

.message-status.pending::after { content: '‚è≥'; }
.message-status.delivered::after { content: '‚úì'; }
.message-status.error::after { content: '‚ùå'; }

.typing-indicator .message-content { padding: 16px 20px; }
.typing-dots { display: flex; gap: 4px; }
.typing-dots span { width: 6px; height: 6px; border-radius: 50%; background: #6c757d; animation: typingBounce 1.4s infinite ease-in-out; }
.typing-dots span:nth-child(1) { animation-delay: -0.32s; }
.typing-dots span:nth-child(2) { animation-delay: -0.16s; }
@keyframes typingBounce { 0%,80%,100%{transform:scale(.8);opacity:.5;}40%{transform:scale(1);opacity:1;} }

.input-container { background: #fff; border-top: 1px solid #e1e5e9; padding: 16px 20px; }
.input-wrapper { display: flex; align-items: flex-end; gap: 12px; background: #f8f9fa; border-radius: 24px; padding: 8px 8px 8px 16px; border: 1px solid #e1e5e9; }
.input-wrapper:focus-within { border-color: #007bff; box-shadow: 0 0 0 3px rgba(0,123,255,.1); }
.message-input { flex: 1; border: none; background: transparent; resize: none; outline: none; max-height: 120px; min-height: 20px; }
.send-button { width: 40px; height: 40px; border-radius: 50%; border: none; background: #007bff; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; }
.send-button:disabled { background: #6c757d; cursor: not-allowed; }

.connection-status { display: flex; align-items: center; gap: 6px; font-size: 12px; color: #6c757d; margin-top: 8px; }
.status-indicator { width: 8px; height: 8px; border-radius: 50%; background: #dc3545; }
.status-indicator.online { background: #28a745; }
.status-indicator.connecting { background: #ffc107; }

.dashboard-panel {
  flex-direction: column;
  gap: 14px;
  overflow-y: auto;
  padding: 16px;
  background: #f8f9fa;
}
.dashboard-header h3 { font-size: 18px; color: #1f2937; }
.dashboard-header p { color: #6b7280; margin-top: 4px; }
.dashboard-cards { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 10px; }
.dashboard-card {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 12px;
}
.dashboard-card-label { font-size: 12px; color: #6b7280; }
.dashboard-card-value { font-size: 22px; font-weight: 700; color: #111827; margin-top: 6px; }
.dashboard-table { display: flex; flex-direction: column; gap: 8px; }
.dashboard-row {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 10px 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}
.dashboard-row-meta { color: #6b7280; font-size: 12px; }
.badge { font-size: 11px; border-radius: 999px; padding: 3px 8px; background: #e5e7eb; }
.badge.online { background: #dcfce7; color: #166534; }
.badge.offline { background: #fee2e2; color: #991b1b; }
.dashboard-empty {
  padding: 18px;
  border: 1px dashed #cbd5e1;
  border-radius: 10px;
  color: #64748b;
  background: #fff;
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 8px 16px;
  border: none;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
}
.btn-primary { background: #007bff; color: white; }
.btn-secondary { background: #6c757d; color: white; }
.btn-icon { padding: 8px; border: none; background: transparent; border-radius: 4px; cursor: pointer; color: #6c757d; }
.btn-icon:hover { background: #f1f3f4; color: #333; }

.messages-container::-webkit-scrollbar,
.agents-list::-webkit-scrollbar,
.dashboard-panel::-webkit-scrollbar { width: 6px; }

@media (max-width: 768px) {
  .sidebar {
    width: 140px;
    min-width: 140px;
  }

  .sidebar.collapsed {
    width: 0;
    min-width: 0;
  }

  .sidebar-header {
    padding: 12px;
  }

  .sidebar-header h2 {
    font-size: 14px;
  }

  .agent-list-item {
    padding: 8px;
  }

  .agent-list-item .agent-name {
    font-size: 12px;
  }

  .agent-list-item .agent-last-message {
    font-size: 11px;
  }

  .dashboard-cards { grid-template-columns: 1fr; }
}

@media (max-width: 400px) {
  .sidebar { width: 100%; }
  .message { max-width: 90%; }
  .input-container { padding: 12px 16px; }
  .messages-container { padding: 16px; }
}
